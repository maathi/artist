{"version":3,"sources":["components/art/card.jsx","components/art/arts.jsx","components/art/art.tsx","components/art/canvas.jsx","firebase.js","components/art/new.jsx","userContext.js","components/user/user.jsx","img/artist.png","components/user/register.jsx","img/logo.png","components/user/login.jsx","components/nav.jsx","privateRoute.jsx","signRoute.jsx","App.jsx","index.jsx"],"names":["Card","j","className","id","name","to","src","process","pic","alt","owner","style","color","photo","height","GET_ARTS","gql","Arts","useState","arts","setArts","useQuery","loading","error","data","useEffect","map","GET_ART","Art","art","setArt","useParams","variables","Number","backgroundColor","border","fontSize","description","Canvas","props","p","setP","ctx","setCtx","canvas","setCanvas","mouse","setMouse","handleMouseUp","file","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","length","ia","Uint8Array","i","charCodeAt","Blob","type","dataURItoBlob","toDataURL","setFile","document","getElementById","getContext","lineWidth","lineCap","lineTo","x","y","strokeStyle","stroke","beginPath","onMouseMove","e","rect","getBoundingClientRect","clientX","left","right","width","clientY","top","bottom","handleMouseMove","onMouseDown","onMouseUp","onMouseLeave","display","margin","cursor","firebase","initializeApp","storageBucket","storage","ADD_ART","New","setColor","setLineWidth","useMutation","addArt","formik","useFormik","initialValues","validationSchema","Yup","max","min","required","test","value","onSubmit","values","a","storageRef","ref","fileName","shortid","generate","imageRef","child","put","window","location","href","handleSubmit","autoComplete","placeholder","onChange","handleChange","onBlur","handleBlur","touched","errors","setFieldValue","target","React","createContext","GET_USER","DELETE_ART","UPDATE_PHOTO","UPDATE_INTRO","User","user","setUser","intro","setIntro","isProfile","setIsProfile","userContext","useContext","UserContext","updatePhoto","updatePhotoData","updateIntro","deleteArt","deletedArtdata","handleUpload","validity","files","valid","handleClick","click","card","onClick","userByName","jwt","decode","setPhoto","localStorage","setItem","filter","u","JSON","parse","stringify","ADD_USER","CHECK_NAME","Register","addUser","useLazyQuery","checkName","checkNameData","password","matches","LOG_IN","Login","useHistory","loginError","setLoginError","login","Nav","history","classes","justifyContent","columnGap","setStyle","logout","clear","push","logo","token","Fragment","rowGap","flexDirection","PrivateRoute","path","component","SignRoute","App","setId","setName","getItem","Provider","authMiddleware","ApolloLink","operation","forward","setContext","headers","authorization","uri","upoloadLink","createUploadLink","client","ApolloClient","link","concat","cache","InMemoryCache","connectToDevTools","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1deac89a.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\"\nimport \"../../styles/arts.css\"\nimport \"../../styles/card.css\"\nimport { FaRegHeart } from \"react-icons/fa\"\nfunction Card({ j }) {\n  return (\n    <div className=\"card\">\n      <span id=\"name\">{j.name}</span>\n\n      <div className=\"wrapper\">\n        <Link to={`/${j.id}`}>\n          <img\n            src={`${process.env.REACT_APP_FBS}/paintings%2F${j.pic}.png?alt=media`}\n            alt=\"\"\n          />\n        </Link>\n      </div>\n\n      <div id=\"bottom\">\n        <FaRegHeart id=\"heart\" />\n        <div id=\"user-info\">\n          <Link to={`/@${j.owner.name}`} style={{ color: \"white\" }}>\n            {j.owner.name}\n          </Link>\n          <Link to={`/@${j.owner.name}`}>\n            <img\n              src={`${process.env.REACT_APP_FBS}/avatars%2F${j.owner.photo}?alt=media`}\n              alt=\"\"\n              style={{ height: \"1.4rem\" }}\n            />\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card\n","import { useQuery, gql, useMutation } from \"@apollo/client\"\nimport { useState, useEffect, useContext } from \"react\"\nimport { ArtType } from \"../../schema\"\nimport Card from \"./card\"\nimport \"../../styles/arts.css\"\n\nconst GET_ARTS = gql`\n  query {\n    arts {\n      id\n      rid\n      name\n      pic\n      owner {\n        id\n        name\n        photo\n      }\n    }\n  }\n`\n\nfunction Arts() {\n  let [arts, setArts] = useState()\n  const { loading, error, data } = useQuery(GET_ARTS)\n\n  useEffect(() => {\n    if (!data?.arts) return\n    setArts(data.arts)\n  }, [data])\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  return (\n    <div className=\"arts\">\n      {arts?.map((j) => (\n        <Card key={j.id} j={j}></Card>\n      ))}\n    </div>\n  )\n}\n\nexport default Arts\n","import { useQuery, gql, useMutation } from \"@apollo/client\"\nimport { useState, useEffect } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { ArtType } from \"../../schema\"\nimport { Link } from \"react-router-dom\"\n\nconst GET_ART = gql`\n  query Art($id: Int) {\n    art(id: $id) {\n      id\n      name\n      pic\n      description\n      owner {\n        id\n        name\n      }\n    }\n  }\n`\n\nfunction Art() {\n  let [art, setArt] = useState<ArtType>()\n  let { id }: any = useParams()\n\n  const { loading, error, data } = useQuery(GET_ART, {\n    variables: { id: Number(id) },\n  })\n\n  useEffect(() => {\n    if (!data?.art) return\n\n    setArt(data.art)\n  }, [data])\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  return (\n    <div>\n      <p>{art?.name}</p>\n\n      <img\n        src={`${process.env.REACT_APP_FBS}/paintings%2F${art?.pic}.png?alt=media`}\n        style={{\n          backgroundColor: \"rgb(209, 209, 209)\",\n          border: \"3px solid black\",\n        }}\n        alt=\"\"\n      />\n\n      <p style={{ fontSize: \"18px\" }}>\n        <span>Created by : </span>\n        <Link to={`/@${art?.owner.name}`} style={{ color: \"white\" }}>\n          {art?.owner.name}\n        </Link>\n      </p>\n      <p style={{ fontSize: \"18px\" }}>\n        <span>Description :</span>\n        <span style={{ color: \"white\" }}> {art?.description}</span>\n      </p>\n    </div>\n  )\n}\n\nexport default Art\n","import { useState, useEffect } from \"react\"\n\nexport default function Canvas(props) {\n  let [p, setP] = useState()\n  let [ctx, setCtx] = useState()\n  let [canvas, setCanvas] = useState()\n  let [mouse, setMouse] = useState(\"up\")\n\n  useEffect(() => {\n    let canvas = document.getElementById(\"canvas\")\n    setCanvas(canvas)\n    let ctx = canvas.getContext(\"2d\")\n    setCtx(ctx)\n  }, [])\n\n  useEffect(() => {\n    if (!ctx) return\n\n    if (mouse == \"up\") {\n      ctx.beginPath()\n      return\n    }\n\n    ctx.lineWidth = props.lineWidth\n    ctx.lineCap = \"round\"\n    ctx.lineTo(p?.x, p?.y)\n    ctx.strokeStyle = props.color\n    ctx.stroke()\n  }, [p])\n\n  function handleMouseMove(e) {\n    var rect = canvas.getBoundingClientRect()\n    setP({\n      x: ((e.clientX - rect.left) / (rect.right - rect.left)) * canvas.width,\n      y: ((e.clientY - rect.top) / (rect.bottom - rect.top)) * canvas.height,\n    })\n  }\n\n  function dataURItoBlob(dataURI) {\n    var byteString = atob(dataURI.split(\",\")[1])\n    var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0]\n    var ab = new ArrayBuffer(byteString.length)\n    var ia = new Uint8Array(ab)\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i)\n    }\n    var blob = new Blob([ab], { type: mimeString })\n    return blob\n  }\n\n  function handleMouseUp() {\n    setMouse(\"up\")\n    let data = canvas.toDataURL()\n    let file = dataURItoBlob(data)\n    props.setFile(file)\n  }\n\n  return (\n    <div>\n      <canvas\n        onMouseMove={(e) => handleMouseMove(e)}\n        onMouseDown={() => setMouse(\"down\")}\n        onMouseUp={() => handleMouseUp()}\n        onMouseLeave={() => setMouse(\"up\")}\n        id=\"canvas\"\n        width=\"600px\"\n        height=\"400px\"\n        style={{\n          border: \"1px solid black\",\n          display: \"block\",\n          margin: \"auto\",\n          backgroundColor: \"#eee\",\n          cursor: \"cell\",\n        }}\n      ></canvas>\n    </div>\n  )\n}\n","import firebase from \"firebase/app\"\nimport \"firebase/storage\"\n\nconst firebaseConfig = {\n  storageBucket: \"artist-4bd1b.appspot.com\",\n}\n\nfirebase.initializeApp(firebaseConfig)\n\nconst storage = firebase.storage()\n\nexport default storage\n","import { useMutation, gql } from \"@apollo/client\"\nimport { useState, useEffect } from \"react\"\nimport { HexColorPicker } from \"react-colorful\"\nimport \"react-colorful/dist/index.css\"\nimport { useFormik } from \"formik\"\nimport * as Yup from \"yup\"\nimport Canvas from \"./canvas\"\nimport \"../../styles/new.css\"\nimport storage from \"../../firebase\"\nimport shortid from \"shortid\"\n\nconst ADD_ART = gql`\n  mutation AddArt($name: String, $pic: String, $description: String) {\n    addArt(name: $name, pic: $pic, description: $description) {\n      id\n      name\n    }\n  }\n`\n\nfunction New() {\n  let [color, setColor] = useState(\"#000\")\n  let [lineWidth, setLineWidth] = useState(3)\n\n  const [addArt, { data }] = useMutation(ADD_ART)\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      file: null,\n      description: \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string()\n        .max(20, \"Title must be 20 characters or less\")\n        .min(4, \"Title must be at least 4 characters long\")\n        .required(\"A title is required\"),\n      file: Yup.mixed().test(\n        \"required\",\n        \"you have to draw something\",\n        (value) => value\n      ),\n      description: Yup.string().max(244, \"Must be 244 characters or less\"),\n    }),\n    onSubmit: async (values) => {\n      let storageRef = storage.ref()\n      let fileName = shortid.generate()\n      let imageRef = storageRef.child(`paintings/${fileName}.png`)\n      let snapshot = await imageRef.put(values.file)\n      if (!snapshot) return\n\n      addArt({\n        variables: {\n          name: values.name,\n          pic: fileName,\n          description: values.description,\n        },\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.addArt) return\n\n    window.location.href = \"/artist\"\n  }, [data])\n\n  function stepOne() {\n    return\n  }\n\n  return (\n    <section id=\"new\">\n      <h2>add a new painting!</h2>\n      <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\n        <input\n          name=\"name\"\n          placeholder=\"title\"\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.touched.name && formik.errors.name\n            ? formik.errors.name\n            : null}\n        </div>\n        <textarea\n          name=\"description\"\n          placeholder=\"description\"\n          value={formik.values.description}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.touched.description && formik.errors.description\n            ? formik.errors.description\n            : null}\n        </div>\n        <Canvas\n          color={color}\n          lineWidth={lineWidth}\n          setFile={(file) => formik.setFieldValue(\"file\", file)}\n        ></Canvas>\n        <div className=\"error\">\n          {formik.errors.file ? formik.errors.file : null}\n        </div>\n        line width : {lineWidth}\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"60\"\n          value={lineWidth}\n          onChange={(e) => setLineWidth(e.target.value)}\n        ></input>\n        <div id=\"color-picker\">\n          <HexColorPicker onChange={setColor} />\n        </div>\n        <button type=\"submit\">create</button>\n      </form>\n    </section>\n  )\n}\n\nexport default New\n","import React from \"react\"\n\nexport default React.createContext({})\n","import { useQuery, useMutation, gql } from \"@apollo/client\"\nimport { useEffect, useState, useContext } from \"react\"\nimport { useParams, Link } from \"react-router-dom\"\nimport { FaTimesCircle, FaSave } from \"react-icons/fa\"\nimport UserContext from \"../../userContext\"\nimport jwt from \"jsonwebtoken\"\nimport \"../../styles/user.css\"\nimport storage from \"../../firebase\"\nimport shortid from \"shortid\"\n\nconst GET_USER = gql`\n  query UserByName($name: String) {\n    userByName(name: $name) {\n      id\n      name\n      password\n      photo\n      intro\n      arts {\n        id\n        name\n        pic\n        owner {\n          name\n        }\n      }\n    }\n  }\n`\nconst DELETE_ART = gql`\n  mutation DeleteArt($id: Int) {\n    deleteArt(id: $id) {\n      id\n      name\n    }\n  }\n`\nconst UPDATE_PHOTO = gql`\n  mutation UpdatePhoto($photo: String) {\n    updatePhoto(photo: $photo)\n  }\n`\n\nconst UPDATE_INTRO = gql`\n  mutation UpdateIntro($intro: String) {\n    updateIntro(intro: $intro) {\n      intro\n    }\n  }\n`\nfunction User() {\n  let [user, setUser] = useState()\n  let [intro, setIntro] = useState(\"\")\n  let [isProfile, setIsProfile] = useState(false)\n  let { name } = useParams()\n  const userContext = useContext(UserContext)\n\n  const { loading, error, data } = useQuery(GET_USER, {\n    variables: { name },\n  })\n\n  const [updatePhoto, { data: updatePhotoData }] = useMutation(UPDATE_PHOTO)\n  const [updateIntro, { data: introData }] = useMutation(UPDATE_INTRO)\n  const [deleteArt, { data: deletedArtdata }] = useMutation(DELETE_ART)\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.userByName) return\n\n    setUser(data.userByName)\n    setIntro(data.userByName.intro || \"\")\n\n    if (data.userByName.id == userContext.id) setIsProfile(true)\n  }, [data])\n\n  useEffect(() => {\n    if (!updatePhotoData) return\n    if (!updatePhotoData.updatePhoto) return\n\n    async function decode() {\n      let user = await jwt.decode(updatePhotoData.updatePhoto)\n      userContext.setPhoto(user.photo)\n    }\n    decode()\n    localStorage.setItem(\"token\", updatePhotoData.updatePhoto)\n  }, [updatePhotoData])\n\n  useEffect(() => {\n    if (!deletedArtdata) return\n    if (!deletedArtdata.deleteArt) return\n\n    let arts = user.arts.filter((a) => a.id != deletedArtdata.deleteArt.id)\n    let u = JSON.parse(JSON.stringify(user))\n    u.arts = arts\n    setUser(u)\n  }, [deletedArtdata])\n\n  async function handleUpload({\n    target: {\n      validity,\n      files: [photo],\n    },\n  }) {\n    if (!validity.valid) return\n    let storageRef = storage.ref()\n    let fileName = shortid.generate()\n    let imageRef = storageRef.child(`avatars/${fileName}`)\n    let snapshot = await imageRef.put(photo)\n    if (!snapshot) return\n    updatePhoto({ variables: { photo: fileName } })\n  }\n\n  function handleClick() {\n    document.getElementById(\"upload\").click()\n  }\n\n  function handleDelete(id) {\n    deleteArt({ variables: { id: Number(id) } })\n  }\n\n  function profileInfo() {\n    return (\n      <div id=\"infos\">\n        <div className=\"photo-wrapper\">\n          <img\n            src={`${process.env.REACT_APP_FBS}/avatars%2F${userContext.photo}?alt=media`}\n            alt=\"\"\n            onClick={handleClick}\n          />\n        </div>\n        <input\n          style={{ display: \"none\" }}\n          id=\"upload\"\n          type=\"file\"\n          onChange={handleUpload}\n        />\n        <textarea\n          value={intro}\n          onChange={(e) => setIntro(e.target.value)}\n          name=\"\"\n          id=\"\"\n          placeholder=\"what's up?\"\n        ></textarea>\n        {/* <span contentEditable=\"true\" onChange={(e) => console.log(\"sss\")}>\n          {intro}\n        </span> */}\n        {intro ? (\n          <div>\n            <button onClick={() => updateIntro({ variables: { intro } })}>\n              <FaSave id=\"save\" />\n              save\n            </button>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n    )\n  }\n\n  function notProfileInfo() {\n    return (\n      <div id=\"infos\">\n        <div className=\"photo-wrapper\">\n          <img\n            src={`${process.env.REACT_APP_FBS}/avatars%2F${user?.photo}?alt=media`}\n            alt=\"\"\n          />\n        </div>\n        <p>{intro}</p>\n      </div>\n    )\n  }\n\n  function card(a) {\n    return (\n      <div key={a.id} className=\"card\">\n        <span id=\"name\">{a.name}</span>\n\n        <div className=\"wrapper\">\n          <Link to={`/${a.id}`}>\n            <img\n              src={`${process.env.REACT_APP_FBS}/paintings%2F${a.pic}.png?alt=media`}\n              alt=\"\"\n            />\n          </Link>\n        </div>\n        {isProfile ? (\n          <div id=\"bottom\">\n            <FaTimesCircle\n              id=\"delete\"\n              onClick={() => {\n                handleDelete(a.id)\n              }}\n            />\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n    )\n  }\n\n  if (loading) return <h1>loading...</h1>\n  if (error) return <h1>error!</h1>\n\n  return (\n    <div id=\"user\">\n      {isProfile ? profileInfo() : notProfileInfo()}\n      <div>\n        {user?.arts[0] ? (\n          <div>\n            <h4>\n              <span>{user?.name}</span>'s paintings :\n            </h4>\n            <div className=\"arts\">{user?.arts.map((a) => card(a))}</div>\n          </div>\n        ) : (\n          <h4>\n            <span>{user?.name}</span> has no paintings yet :/\n          </h4>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default User\n","export default \"data:image/png;base64,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\"","import { useMutation, gql, useLazyQuery } from \"@apollo/client\"\nimport { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport logo from \"../../img/artist.png\"\nimport { useFormik } from \"formik\"\nimport * as Yup from \"yup\"\nimport jwt from \"jsonwebtoken\"\nimport \"../../styles/sign.css\"\n\nconst ADD_USER = gql`\n  mutation AddUser($name: String, $password: String) {\n    addUser(name: $name, password: $password)\n  }\n`\n\nconst CHECK_NAME = gql`\n  query CheckName($name: String) {\n    checkName(name: $name) {\n      name\n    }\n  }\n`\n\nfunction Register() {\n  const [addUser, { data }] = useMutation(ADD_USER)\n  const [checkName, { loading, data: checkNameData, error }] = useLazyQuery(\n    CHECK_NAME\n  )\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      password: \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string()\n        .max(15, \"username must be 15 characters or less\")\n        .min(3, \"username must be at least 3 characters long\")\n        .matches(\n          /^[a-z0-9_]+$/i,\n          \"Username can only contain alphanumeric characters and underscores\"\n        )\n        .matches(\n          /^[a-z].*/,\n          \"Username has to start with an alphabetic character\"\n        )\n        .required(\"A username is required\")\n        .test(\"check username\", \"username already exists!\", async (value) => {\n          let fo = await checkName({ variables: { name: value } })\n          return !checkNameData?.checkName\n        }),\n      password: Yup.string()\n        .max(30, \"Password must be 30 characters or less\")\n        .min(4, \"Password must be at least 4 characters long\")\n        .required(\"A password is Required\"),\n    }),\n    onSubmit: (values) => {\n      addUser({\n        variables: { name: values.name, password: values.password },\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.addUser) return\n\n    localStorage.setItem(\"token\", data.addUser)\n    window.location.href = \"/artist\"\n  }, [data])\n\n  return (\n    <section id=\"register\">\n      <h1>Register</h1>\n      <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"pick a username\"\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.errors.name ? formik.errors.name : null}\n        </div>\n        <input\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"password\"\n          type=\"text\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.touched.password && formik.errors.password\n            ? formik.errors.password\n            : null}\n        </div>\n        <button type=\"submit\">Register</button>\n        <div className=\"error\"></div>\n      </form>\n      <span>\n        already have an account? <Link to=\"/login\">login</Link>\n      </span>\n    </section>\n  )\n}\nexport default Register\n","export default __webpack_public_path__ + \"static/media/logo.f233c6a0.png\";","import { useLazyQuery, gql } from \"@apollo/client\"\nimport { useEffect, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useFormik } from \"formik\"\n// import logo from \"./../../img/artist.png\"\nimport \"../../styles/sign.css\"\nimport logo from \"./../../img/logo.png\"\nconst LOG_IN = gql`\n  query Login($name: String, $password: String) {\n    login(name: $name, password: $password)\n  }\n`\n\nfunction Login() {\n  let history = useHistory()\n  let [loginError, setLoginError] = useState(\"\")\n  const [login, { loading, data, error }] = useLazyQuery(LOG_IN)\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      password: \"\",\n    },\n    onSubmit: (values) => {\n      login({\n        variables: { name: values.name, password: values.password },\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.login) {\n      setLoginError(\"your username and password don't match\")\n      return\n    }\n\n    localStorage.setItem(\"token\", data.login)\n    window.location.href = \"/artist\"\n    // history.push(\"/artist\")\n  }, [data])\n\n  if (loading) return <p>loading...</p>\n  if (error) return <p>`Error! ${error}`</p>\n\n  return (\n    <section id=\"login\">\n      {/* <div id=\"logo-wrapper\">\n        <img src={logo} alt=\"\" />\n      </div> */}\n\n      <h1>Login</h1>\n      <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"username\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.name}\n        />\n        <div className=\"error\">\n          {formik.touched.name && formik.errors.name\n            ? formik.errors.name\n            : null}\n        </div>\n        <input\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"password\"\n          type=\"text\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.password}\n        />\n\n        <div className=\"error\">\n          {formik.touched.password && formik.errors.password\n            ? formik.errors.password\n            : null}\n        </div>\n\n        <button type=\"submit\">Login</button>\n        <div className=\"error\">{loginError ? loginError : null}</div>\n      </form>\n      <span id=\"not-a-user\">\n        not a user? <Link to=\"/register\">register</Link>\n      </span>\n    </section>\n  )\n}\n\nexport default Login\n","import { Link, useHistory } from \"react-router-dom\"\nimport logo from \"../img/artist.png\"\nimport { FaPaintBrush } from \"react-icons/fa\"\nimport \"../styles/navbar.css\"\nimport React, { useContext, useState } from \"react\"\nimport UserContext from \"../userContext\"\nimport { BiMenu } from \"react-icons/bi\"\n\nfunction Nav(props) {\n  const userContext = useContext(UserContext)\n  const history = useHistory()\n  let [classes, setClasses] = useState(\"nav\")\n  let [style, setStyle] = useState({\n    justifyContent: \"flex-end\",\n    columnGap: \"3rem\",\n    height: \"2.6rem\",\n  })\n\n  function logout() {\n    localStorage.clear()\n    history.push(\"/login\")\n  }\n\n  function guestNav() {\n    return (\n      <ul className=\"nav\">\n        <li>\n          <Link to=\"/artist\">\n            <img id=\"logo\" src={logo} alt=\"\" />\n          </Link>\n        </li>\n      </ul>\n    )\n  }\n\n  function showMenu() {\n    setStyle({ rowGap: \"1rem\", flexDirection: \"column\" })\n  }\n\n  function userNav() {\n    return (\n      <React.Fragment>\n        <li>\n          <Link to=\"/new\">\n            <FaPaintBrush id=\"brush\" />\n          </Link>\n        </li>\n        <li>\n          <img\n            id=\"nav-pic\"\n            src={`${process.env.REACT_APP_FBS}/avatars%2F${userContext.photo}?alt=media`}\n            alt=\"\"\n          />\n          <Link to={\"/@\" + userContext.name}>{userContext.name}</Link>\n        </li>\n        <li>\n          <a onClick={logout}>logout</a>\n        </li>\n      </React.Fragment>\n    )\n  }\n\n  return (\n    <ul className={classes} style={style}>\n      <li>\n        <Link to=\"/artist\">\n          <img id=\"logo\" src={logo} alt=\"\" />\n        </Link>\n      </li>\n      {userContext.token ? (\n        userNav()\n      ) : (\n        <li>\n          <Link to=\"/login\">login</Link>\n        </li>\n      )}\n      <li id=\"menu\" onClick={showMenu}>\n        <a>\n          <BiMenu />\n        </a>\n      </li>\n    </ul>\n  )\n}\n\nexport default Nav\n","import { Route, Redirect } from \"react-router-dom\"\nimport UserContext from \"./userContext\"\nimport { useContext } from \"react\"\n\nfunction PrivateRoute({ path, component }) {\n  let userContext = useContext(UserContext)\n\n  return userContext.token ? (\n    <Route path={path} component={component}></Route>\n  ) : (\n    <Redirect to=\"/login\"></Redirect>\n  )\n}\n\nexport default PrivateRoute\n","import { Route, Redirect } from \"react-router-dom\"\nimport UserContext from \"./userContext\"\nimport { useContext } from \"react\"\n\nfunction SignRoute({ path, component }) {\n  let userContext = useContext(UserContext)\n\n  return !userContext.token ? (\n    <Route path={path} component={component}></Route>\n  ) : (\n    <Redirect to=\"/artist\"></Redirect>\n  )\n}\n\nexport default SignRoute\n","import React, { useState, useEffect } from \"react\"\nimport \"./App.css\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\"\nimport Arts from \"./components/art/arts\"\nimport Art from \"./components/art/art\"\nimport New from \"./components/art/new\"\nimport User from \"./components/user/user\"\nimport Register from \"./components/user/register\"\nimport Login from \"./components/user/login\"\nimport Nav from \"./components/nav.jsx\"\nimport UserContext from \"./userContext\"\nimport jwt from \"jsonwebtoken\"\nimport PrivateRoute from \"./privateRoute\"\nimport SignRoute from \"./signRoute\"\n\nfunction App() {\n  let [id, setId] = useState(null)\n  let [name, setName] = useState(\"\")\n  let [photo, setPhoto] = useState(\"\")\n  let token = localStorage.getItem(\"token\")\n  useEffect(() => {\n    async function decode() {\n      let user = await jwt.decode(token)\n      if (!user) return\n      setId(user.id)\n      setName(user.name)\n      setPhoto(user.photo)\n    }\n    decode()\n  }, [])\n\n  return (\n    <Router>\n      <UserContext.Provider\n        value={{ id, setId, name, setName, photo, setPhoto, token }}\n      >\n        <div className=\"App\">\n          <Nav></Nav>\n          <Switch>\n            <Route path=\"/@:name\" component={User}></Route>\n            <PrivateRoute path=\"/new\" component={New}></PrivateRoute>\n            <Route path=\"/artist\">\n              <Arts></Arts>\n            </Route>\n            <SignRoute path=\"/login\" component={Login}></SignRoute>\n            <SignRoute path=\"/register\" component={Register}></SignRoute>\n            <Route path=\"/:id\">\n              <Art></Art>\n            </Route>\n          </Switch>\n        </div>\n      </UserContext.Provider>\n    </Router>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloLink,\n  ApolloProvider,\n  concat,\n} from \"@apollo/client\"\nimport App from \"./App\"\nimport { createUploadLink } from \"apollo-upload-client\"\n\nconst authMiddleware = new ApolloLink((operation, forward) => {\n  // add the authorization to the headers\n  operation.setContext({\n    headers: {\n      authorization: localStorage.getItem(\"token\") || null,\n    },\n  })\n\n  return forward(operation)\n})\n\nconst uri = `${process.env.REACT_APP_URL}/graphql`\n\nconst upoloadLink = createUploadLink({ uri })\nconst client = new ApolloClient({\n  link: concat(authMiddleware, upoloadLink),\n  cache: new InMemoryCache(),\n  connectToDevTools: true,\n  headers: { authorization: \"dandandooooooooo\" },\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}