{"version":3,"sources":["components/art/card.jsx","components/art/arts.jsx","components/art/art.tsx","components/art/canvas.jsx","components/art/new.jsx","userContext.js","components/user/user.jsx","img/artist.png","components/user/register.jsx","components/user/login.jsx","components/nav.jsx","privateRoute.jsx","signRoute.jsx","App.jsx","index.jsx"],"names":["Card","j","className","id","name","to","src","process","pic","alt","owner","style","color","photo","height","GET_ARTS","gql","Arts","useState","arts","setArts","useQuery","loading","error","data","useEffect","console","log","map","GET_ART","Art","art","setArt","useParams","variables","Number","backgroundColor","border","fontSize","description","Canvas","props","p","setP","ctx","setCtx","canvas","setCanvas","mouse","setMouse","handleMouseUp","file","dataURI","byteString","atob","split","mimeString","ab","ArrayBuffer","length","ia","Uint8Array","i","charCodeAt","Blob","type","dataURItoBlob","toDataURL","size","setFile","document","getElementById","getContext","lineWidth","lineCap","lineTo","x","y","strokeStyle","stroke","beginPath","onMouseMove","e","rect","getBoundingClientRect","clientX","left","right","width","clientY","top","bottom","handleMouseMove","onMouseDown","onMouseUp","onMouseLeave","display","margin","cursor","ADD_ART","New","setColor","setLineWidth","useMutation","addArt","formik","useFormik","initialValues","validationSchema","Yup","max","min","required","test","value","onSubmit","values","window","location","href","handleSubmit","autoComplete","placeholder","onChange","handleChange","onBlur","handleBlur","touched","errors","setFieldValue","target","React","createContext","GET_USER","DELETE_ART","UPDATE_PHOTO","UPDATE_INTRO","User","user","setUser","intro","setIntro","isProfile","setIsProfile","userContext","useContext","UserContext","updatePhoto","updatePhotoData","updateIntro","deleteArt","deletedArtdata","handleUpload","validity","files","valid","handleClick","click","card","a","onClick","userByName","jwt","decode","setPhoto","localStorage","setItem","filter","u","JSON","parse","stringify","cols","ADD_USER","CHECK_NAME","Register","addUser","useLazyQuery","checkName","checkNameData","password","matches","logo","LOG_IN","Login","loginError","setLoginError","login","Nav","clear","PrivateRoute","path","component","token","SignRoute","App","setId","setName","getItem","Provider","authMiddleware","ApolloLink","operation","forward","setContext","headers","authorization","uri","upoloadLink","createUploadLink","client","ApolloClient","link","concat","cache","InMemoryCache","connectToDevTools","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.eb224111.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\"\nimport \"../../styles/arts.css\"\nimport \"../../styles/card.css\"\nimport { FaRegHeart } from \"react-icons/fa\"\nfunction Card({ j }) {\n  return (\n    <div className=\"card\">\n      <span id=\"name\">{j.name}</span>\n\n      <div className=\"wrapper\">\n        <Link to={`/${j.id}`}>\n          <img src={`${process.env.REACT_APP_URL}/${j.pic}.png`} alt=\"\" />\n        </Link>\n      </div>\n\n      <div id=\"bottom\">\n        <FaRegHeart id=\"heart\" />\n        <div id=\"user-info\">\n          <Link to={`/@${j.owner.name}`} style={{ color: \"white\" }}>\n            {j.owner.name}\n          </Link>\n\n          <Link to={`/@${j.owner.name}`}>\n            <img\n              src={`${process.env.REACT_APP_URL}/${j.owner.photo}`}\n              alt=\"\"\n              style={{ height: \"1.4rem\" }}\n            />\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card\n","import { useQuery, gql, useMutation } from \"@apollo/client\"\nimport { useState, useEffect, useContext } from \"react\"\nimport { ArtType } from \"../../schema\"\nimport Card from \"./card\"\nimport \"../../styles/arts.css\"\n\nconst GET_ARTS = gql`\n  query {\n    arts {\n      id\n      name\n      pic\n      owner {\n        id\n        name\n        photo\n      }\n    }\n  }\n`\n\nfunction Arts() {\n  let [arts, setArts] = useState()\n  const { loading, error, data } = useQuery(GET_ARTS)\n\n  useEffect(() => {\n    if (!data) return\n    console.log(data)\n\n    if (!data.arts) return\n    setArts(data.arts)\n    console.log(\"my arts\", arts)\n  }, [data])\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  return (\n    <div className=\"arts\">\n      {arts?.map((j) => (\n        <Card key={j.id} j={j}></Card>\n      ))}\n    </div>\n  )\n}\n\nexport default Arts\n","import { useQuery, gql, useMutation } from \"@apollo/client\"\nimport { useState, useEffect } from \"react\"\nimport { useParams } from \"react-router-dom\"\nimport { ArtType } from \"../../schema\"\nimport { Link } from \"react-router-dom\"\n\nconst GET_ART = gql`\n  query Art($id: Int) {\n    art(id: $id) {\n      id\n      name\n      pic\n      description\n      owner {\n        id\n        name\n      }\n    }\n  }\n`\n\nfunction Art() {\n  let [art, setArt] = useState<ArtType>()\n  let { id }: any = useParams()\n\n  const { loading, error, data } = useQuery(GET_ART, {\n    variables: { id: Number(id) },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    console.log(data)\n\n    if (!data.art) return\n    setArt(data.art)\n    console.log(\"my arts\", art)\n  }, [data])\n\n  if (loading) return <p>Loading...</p>\n  if (error) return <p>Error :(</p>\n\n  return (\n    <div>\n      <p>{art?.name}</p>\n      <img\n        src={`${process.env.REACT_APP_URL}/${art?.pic}.png`}\n        style={{\n          backgroundColor: \"rgb(209, 209, 209)\",\n          border: \"3px solid black\",\n        }}\n        alt=\"\"\n      />\n\n      <p style={{ fontSize: \"18px\" }}>\n        <span>Created by : </span>\n        <Link to={`/@${art?.owner.name}`} style={{ color: \"white\" }}>\n          {art?.owner.name}\n        </Link>\n      </p>\n      <p style={{ fontSize: \"18px\" }}>\n        <span>Description :</span>\n        <span style={{ color: \"white\" }}> {art?.description}</span>\n      </p>\n    </div>\n  )\n}\n\nexport default Art\n","import { useState, useEffect } from \"react\"\n\nexport default function Canvas(props) {\n  let [p, setP] = useState()\n  let [ctx, setCtx] = useState()\n  let [canvas, setCanvas] = useState()\n  let [mouse, setMouse] = useState(\"up\")\n\n  useEffect(() => {\n    let canvas = document.getElementById(\"canvas\")\n    setCanvas(canvas)\n    let ctx = canvas.getContext(\"2d\")\n    setCtx(ctx)\n  }, [])\n\n  useEffect(() => {\n    if (!ctx) return\n\n    if (mouse == \"up\") {\n      ctx.beginPath()\n      return\n    }\n\n    ctx.lineWidth = props.lineWidth\n    ctx.lineCap = \"round\"\n    ctx.lineTo(p?.x, p?.y)\n    ctx.strokeStyle = props.color\n    ctx.stroke()\n  }, [p])\n\n  function handleMouseMove(e) {\n    var rect = canvas.getBoundingClientRect()\n    setP({\n      x: ((e.clientX - rect.left) / (rect.right - rect.left)) * canvas.width,\n      y: ((e.clientY - rect.top) / (rect.bottom - rect.top)) * canvas.height,\n    })\n  }\n\n  function dataURItoBlob(dataURI) {\n    var byteString = atob(dataURI.split(\",\")[1])\n    var mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0]\n    var ab = new ArrayBuffer(byteString.length)\n    var ia = new Uint8Array(ab)\n    for (var i = 0; i < byteString.length; i++) {\n      ia[i] = byteString.charCodeAt(i)\n    }\n    var blob = new Blob([ab], { type: mimeString })\n    return blob\n  }\n\n  function handleMouseUp() {\n    setMouse(\"up\")\n    let data = canvas.toDataURL()\n    let file = dataURItoBlob(data)\n    console.log(\"file\", file, \"type\", file.type, \"size\", file.size)\n    props.setFile(file)\n  }\n\n  return (\n    <div>\n      <canvas\n        onMouseMove={(e) => handleMouseMove(e)}\n        onMouseDown={() => setMouse(\"down\")}\n        onMouseUp={() => handleMouseUp()}\n        onMouseLeave={() => setMouse(\"up\")}\n        id=\"canvas\"\n        width=\"600px\"\n        height=\"400px\"\n        style={{\n          border: \"1px solid black\",\n          display: \"block\",\n          margin: \"auto\",\n          backgroundColor: \"#eee\",\n          cursor: \"cell\",\n        }}\n      ></canvas>\n    </div>\n  )\n}\n","import { useMutation, gql } from \"@apollo/client\"\nimport { useState, useEffect } from \"react\"\nimport { HexColorPicker } from \"react-colorful\"\nimport \"react-colorful/dist/index.css\"\nimport { useFormik } from \"formik\"\nimport * as Yup from \"yup\"\nimport Canvas from \"./canvas\"\n\nconst ADD_ART = gql`\n  mutation AddArt($name: String, $file: Upload!, $description: String) {\n    addArt(name: $name, file: $file, description: $description) {\n      id\n      name\n    }\n  }\n`\n\nfunction New() {\n  let [color, setColor] = useState(\"#000\")\n  let [lineWidth, setLineWidth] = useState(3)\n\n  const [addArt, { data }] = useMutation(ADD_ART)\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      file: null,\n      description: \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string()\n        .max(20, \"Title must be 20 characters or less\")\n        .min(4, \"Title must be at least 4 characters long\")\n        .required(\"A title is required\"),\n      file: Yup.mixed().test(\n        \"required\",\n        \"you have to draw something\",\n        (value) => value\n      ),\n      description: Yup.string().max(244, \"Must be 244 characters or less\"),\n    }),\n    onSubmit: (values) => {\n      addArt({\n        variables: {\n          name: values.name,\n          file: values.file,\n          description: values.description,\n        },\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.addArt) return\n\n    window.location.href = \"/artist\"\n  }, [data])\n\n  return (\n    <div>\n      <h2>add a new painting!</h2>\n      <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\n        <input\n          name=\"name\"\n          placeholder=\"title\"\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.touched.name && formik.errors.name\n            ? formik.errors.name\n            : null}\n        </div>\n        <textarea\n          name=\"description\"\n          placeholder=\"description\"\n          value={formik.values.description}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.touched.description && formik.errors.description\n            ? formik.errors.description\n            : null}\n        </div>\n        <Canvas\n          color={color}\n          lineWidth={lineWidth}\n          setFile={(file) => formik.setFieldValue(\"file\", file)}\n        ></Canvas>\n        <div className=\"error\">\n          {formik.errors.file ? formik.errors.file : null}\n        </div>\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"60\"\n          value={lineWidth}\n          onChange={(e) => setLineWidth(e.target.value)}\n        ></input>\n        {lineWidth}\n        <HexColorPicker onChange={setColor} />\n        <button type=\"submit\">create</button>\n      </form>\n    </div>\n  )\n}\n\nexport default New\n","import React from \"react\"\n\nexport default React.createContext({})\n","import { useQuery, useMutation, gql } from \"@apollo/client\"\nimport { useEffect, useState, useContext } from \"react\"\nimport { useParams, Link } from \"react-router-dom\"\nimport { FaTimesCircle, FaSave } from \"react-icons/fa\"\nimport UserContext from \"../../userContext\"\nimport jwt from \"jsonwebtoken\"\nimport \"../../styles/user.css\"\n\nconst GET_USER = gql`\n  query UserByName($name: String) {\n    userByName(name: $name) {\n      id\n      name\n      password\n      photo\n      intro\n      arts {\n        id\n        name\n        pic\n        owner {\n          name\n        }\n      }\n    }\n  }\n`\nconst DELETE_ART = gql`\n  mutation DeleteArt($id: Int) {\n    deleteArt(id: $id) {\n      id\n      name\n    }\n  }\n`\nconst UPDATE_PHOTO = gql`\n  mutation UpdatePhoto($photo: Upload) {\n    updatePhoto(photo: $photo)\n  }\n`\n\nconst UPDATE_INTRO = gql`\n  mutation UpdateIntro($intro: String) {\n    updateIntro(intro: $intro) {\n      intro\n    }\n  }\n`\nfunction User() {\n  let [user, setUser] = useState()\n  let [intro, setIntro] = useState(\"\")\n  let [isProfile, setIsProfile] = useState(false)\n  let { name } = useParams()\n  const userContext = useContext(UserContext)\n\n  const { loading, error, data } = useQuery(GET_USER, {\n    variables: { name },\n  })\n\n  const [updatePhoto, { data: updatePhotoData }] = useMutation(UPDATE_PHOTO)\n  const [updateIntro, { data: introData }] = useMutation(UPDATE_INTRO)\n  const [deleteArt, { data: deletedArtdata }] = useMutation(DELETE_ART)\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.userByName) return\n\n    setUser(data.userByName)\n    setIntro(data.userByName.intro || \"\")\n\n    if (data.userByName.id == userContext.id) setIsProfile(true)\n  }, [data])\n\n  useEffect(() => {\n    if (!updatePhotoData) return\n    if (!updatePhotoData.updatePhoto) return\n\n    async function decode() {\n      let user = await jwt.decode(updatePhotoData.updatePhoto)\n      userContext.setPhoto(user.photo)\n    }\n    decode()\n    localStorage.setItem(\"token\", updatePhotoData.updatePhoto)\n  }, [updatePhotoData])\n\n  useEffect(() => {\n    if (!deletedArtdata) return\n    if (!deletedArtdata.deleteArt) return\n\n    let arts = user.arts.filter((a) => a.id != deletedArtdata.deleteArt.id)\n    let u = JSON.parse(JSON.stringify(user))\n    u.arts = arts\n    setUser(u)\n  }, [deletedArtdata])\n\n  function handleUpload({\n    target: {\n      validity,\n      files: [photo],\n    },\n  }) {\n    validity.valid && updatePhoto({ variables: { photo } })\n  }\n\n  function handleClick() {\n    document.getElementById(\"upload\").click()\n  }\n\n  function handleDelete(id) {\n    deleteArt({ variables: { id: Number(id) } })\n  }\n\n  function profileInfo() {\n    return (\n      <div id=\"infos\">\n        <div className=\"photo-wrapper\">\n          <img\n            src={`${process.env.REACT_APP_URL}/${userContext.photo}`}\n            alt=\"\"\n            onClick={handleClick}\n          />\n        </div>\n        <input\n          style={{ display: \"none\" }}\n          id=\"upload\"\n          type=\"file\"\n          onChange={handleUpload}\n        />\n        <textarea\n          value={intro}\n          onChange={(e) => setIntro(e.target.value)}\n          name=\"\"\n          id=\"\"\n          cols=\"50\"\n          placeholder=\"what's up?\"\n        ></textarea>\n        {intro ? (\n          <div>\n            <button onClick={() => updateIntro({ variables: { intro } })}>\n              <FaSave id=\"save\" />\n              save\n            </button>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n    )\n  }\n\n  function notProfileInfo() {\n    return (\n      <div id=\"infos\">\n        <div className=\"photo-wrapper\">\n          <img src={`${process.env.REACT_APP_URL}/${user?.photo}`} alt=\"\" />\n        </div>\n        <p>{intro}</p>\n      </div>\n    )\n  }\n\n  function card(a) {\n    return (\n      <div key={a.id} className=\"card\">\n        <span id=\"name\">{a.name}</span>\n\n        <div className=\"wrapper\">\n          <Link to={`/${a.id}`}>\n            <img src={`${process.env.REACT_APP_URL}/${a.pic}.png`} alt=\"\" />\n          </Link>\n        </div>\n        {isProfile ? (\n          <div>\n            <FaTimesCircle\n              id=\"delete\"\n              onClick={() => {\n                handleDelete(a.id)\n              }}\n            />\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n    )\n  }\n\n  if (loading) return <h1>loading...</h1>\n  if (error) return <h1>error!</h1>\n\n  return (\n    <div id=\"user\">\n      {isProfile ? profileInfo() : notProfileInfo()}\n      <div id=\"user-arts\">\n        <h4>\n          <span>{user?.name}</span>'s paintings :\n        </h4>\n        <div className=\"arts\">{user?.arts.map((a) => card(a))}</div>\n      </div>\n    </div>\n  )\n}\n\nexport default User\n","export default \"data:image/png;base64,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\"","import { useMutation, gql, useLazyQuery } from \"@apollo/client\"\nimport { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport logo from \"../../img/artist.png\"\nimport { useFormik } from \"formik\"\nimport * as Yup from \"yup\"\nimport jwt from \"jsonwebtoken\"\nimport \"../../styles/sign.css\"\n\nconst ADD_USER = gql`\n  mutation AddUser($name: String, $password: String) {\n    addUser(name: $name, password: $password)\n  }\n`\n\nconst CHECK_NAME = gql`\n  query CheckName($name: String) {\n    checkName(name: $name) {\n      name\n    }\n  }\n`\n\nfunction Register() {\n  const [addUser, { data }] = useMutation(ADD_USER)\n  const [checkName, { loading, data: checkNameData, error }] = useLazyQuery(\n    CHECK_NAME\n  )\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      password: \"\",\n    },\n    validationSchema: Yup.object({\n      name: Yup.string()\n        .max(15, \"username must be 15 characters or less\")\n        .min(3, \"username must be at least 3 characters long\")\n        .matches(\n          /^[a-z0-9_]+$/i,\n          \"Username can only contain alphanumeric characters and underscores\"\n        )\n        .matches(\n          /^[a-z].*/,\n          \"Username has to start with an alphabetic character\"\n        )\n        .required(\"A username is required\")\n        .test(\"check username\", \"username already exists!\", async (value) => {\n          let fo = await checkName({ variables: { name: value } })\n          return !checkNameData?.checkName\n        }),\n      password: Yup.string()\n        .max(30, \"Password must be 30 characters or less\")\n        .min(4, \"Password must be at least 4 characters long\")\n        .required(\"A password is Required\"),\n    }),\n    onSubmit: (values) => {\n      addUser({\n        variables: { name: values.name, password: values.password },\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.addUser) return\n\n    localStorage.setItem(\"token\", data.addUser)\n    window.location.href = \"/artist\"\n  }, [data])\n\n  return (\n    <section id=\"register\">\n      <img src={logo} alt=\"\" />\n      <h1>Register</h1>\n      <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"pick a username\"\n          value={formik.values.name}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.errors.name ? formik.errors.name : null}\n        </div>\n        <input\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"password\"\n          type=\"text\"\n          value={formik.values.password}\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n        />\n        <div className=\"error\">\n          {formik.touched.password && formik.errors.password\n            ? formik.errors.password\n            : null}\n        </div>\n        <button type=\"submit\">Register</button>\n        <div className=\"error\"></div>\n      </form>\n      <span>\n        already have an account? <Link to=\"/login\">login</Link>\n      </span>\n    </section>\n  )\n}\nexport default Register\n","import { useLazyQuery, gql } from \"@apollo/client\"\nimport { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useFormik } from \"formik\"\nimport logo from \"./../../img/artist.png\"\nimport \"../../styles/sign.css\"\n\nconst LOG_IN = gql`\n  query Login($name: String, $password: String) {\n    login(name: $name, password: $password)\n  }\n`\n\nfunction Login() {\n  let [loginError, setLoginError] = useState(\"\")\n  const [login, { loading, data, error }] = useLazyQuery(LOG_IN)\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      password: \"\",\n    },\n    onSubmit: (values) => {\n      login({\n        variables: { name: values.name, password: values.password },\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (!data) return\n    if (!data.login) {\n      setLoginError(\"your username and password don't match... genius\")\n      return\n    }\n\n    localStorage.setItem(\"token\", data.login)\n    window.location.href = \"/artist\"\n  }, [data])\n\n  if (loading) return <p>loading...</p>\n  if (error) return <p>`Error! ${error}`</p>\n\n  return (\n    <section id=\"login\">\n      <img src={logo} alt=\"\" />\n      <h1>Login</h1>\n      <form onSubmit={formik.handleSubmit} autoComplete=\"off\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"username\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.name}\n        />\n        <div className=\"error\">\n          {formik.touched.name && formik.errors.name\n            ? formik.errors.name\n            : null}\n        </div>\n        <input\n          id=\"password\"\n          name=\"password\"\n          placeholder=\"password\"\n          type=\"text\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.password}\n        />\n\n        <div className=\"error\">\n          {formik.touched.password && formik.errors.password\n            ? formik.errors.password\n            : null}\n        </div>\n\n        <button type=\"submit\">Login</button>\n        <div className=\"error\">{loginError ? loginError : null}</div>\n      </form>\n      <span id=\"not-a-user\">\n        not a user? <Link to=\"/register\">register</Link>\n      </span>\n    </section>\n  )\n}\n\nexport default Login\n","import { Link } from \"react-router-dom\"\nimport logo from \"../img/artist.png\"\nimport { RiPaintBrushFill } from \"react-icons/ri\"\nimport { FaPaintBrush } from \"react-icons/fa\"\nimport \"../styles/navbar.css\"\nimport { useContext } from \"react\"\nimport UserContext from \"../userContext\"\n\nfunction Nav(props) {\n  const userContext = useContext(UserContext)\n\n  function logout() {\n    localStorage.clear()\n    window.location.href = \"/login\"\n  }\n\n  return (\n    <ul id=\"nav\">\n      <li>\n        <Link to=\"/artist\">\n          <img id=\"logo\" src={logo} alt=\"\" />\n        </Link>\n      </li>\n      {userContext.id ? (\n        <li>\n          <Link to=\"/new\">\n            <FaPaintBrush id=\"brush\" />\n          </Link>\n        </li>\n      ) : (\n        \"\"\n      )}\n      {userContext.id ? (\n        <li>\n          <img\n            id=\"nav-pic\"\n            src={`${process.env.REACT_APP_URL}/${userContext.photo}`}\n            alt=\"\"\n          />\n\n          <Link to={\"/@\" + userContext.name}>{userContext.name}</Link>\n        </li>\n      ) : (\n        \"\"\n      )}\n\n      {userContext.id ? (\n        <li>\n          <a onClick={logout}>logout</a>\n        </li>\n      ) : (\n        <li>\n          <Link to=\"/login\">login</Link>\n        </li>\n      )}\n    </ul>\n  )\n}\n\nexport default Nav\n","import { Route, Redirect } from \"react-router-dom\"\nimport UserContext from \"./userContext\"\nimport { useContext } from \"react\"\n\nfunction PrivateRoute({ path, component }) {\n  let userContext = useContext(UserContext)\n\n  return userContext.token ? (\n    <Route path={path} component={component}></Route>\n  ) : (\n    <Redirect to=\"/login\"></Redirect>\n  )\n}\n\nexport default PrivateRoute\n","import { Route, Redirect } from \"react-router-dom\"\nimport UserContext from \"./userContext\"\nimport { useContext } from \"react\"\n\nfunction SignRoute({ path, component }) {\n  let userContext = useContext(UserContext)\n\n  return !userContext.token ? (\n    <Route path={path} component={component}></Route>\n  ) : (\n    <Redirect to=\"/artist\"></Redirect>\n  )\n}\n\nexport default SignRoute\n","import React, { useState, useEffect } from \"react\"\nimport \"./App.css\"\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\"\nimport Arts from \"./components/art/arts\"\nimport Art from \"./components/art/art\"\nimport New from \"./components/art/new\"\nimport User from \"./components/user/user\"\nimport Register from \"./components/user/register\"\nimport Login from \"./components/user/login\"\nimport Nav from \"./components/nav.jsx\"\nimport UserContext from \"./userContext\"\nimport jwt from \"jsonwebtoken\"\nimport PrivateRoute from \"./privateRoute\"\nimport SignRoute from \"./signRoute\"\n\nfunction App() {\n  let [id, setId] = useState(null)\n  let [name, setName] = useState(\"\")\n  let [photo, setPhoto] = useState(\"\")\n  let token = localStorage.getItem(\"token\")\n  useEffect(() => {\n    async function decode() {\n      let user = await jwt.decode(token)\n      if (!user) return\n      setId(user.id)\n      setName(user.name)\n      setPhoto(user.photo)\n    }\n    decode()\n  }, [])\n\n  return (\n    <Router>\n      <UserContext.Provider\n        value={{ id, setId, name, setName, photo, setPhoto, token }}\n      >\n        <div className=\"App\">\n          <Nav></Nav>\n          <Switch>\n            <Route path=\"/@:name\" component={User}></Route>\n            <PrivateRoute path=\"/new\" component={New}></PrivateRoute>\n            <Route path=\"/artist\">\n              <Arts></Arts>\n            </Route>\n            <SignRoute path=\"/login\" component={Login}></SignRoute>\n            <SignRoute path=\"/register\" component={Register}></SignRoute>\n            <Route path=\"/:id\">\n              <Art></Art>\n            </Route>\n          </Switch>\n        </div>\n      </UserContext.Provider>\n    </Router>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloLink,\n  ApolloProvider,\n  concat,\n} from \"@apollo/client\"\nimport App from \"./App\"\nimport { createUploadLink } from \"apollo-upload-client\"\n\nconst authMiddleware = new ApolloLink((operation, forward) => {\n  // add the authorization to the headers\n  operation.setContext({\n    headers: {\n      authorization: localStorage.getItem(\"token\") || null,\n    },\n  })\n\n  return forward(operation)\n})\n\nconst uri = `${process.env.REACT_APP_URL}/graphql`\nconsole.log(\"this is the uri baby\", uri)\nconst upoloadLink = createUploadLink({ uri })\nconst client = new ApolloClient({\n  link: concat(authMiddleware, upoloadLink),\n  cache: new InMemoryCache(),\n  connectToDevTools: true,\n  headers: { authorization: \"dandandooooooooo\" },\n})\n\nReactDOM.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}